<h3>Create a New Post</h3>

<form class="form" action="/posts/create" method="POST">
    <div class="mb-3">
        <label for="title" class="form-label">Title</label>
        <input class="form-control" type="text" name="title" id="title" placeholder="Title" required>
    </div>

    <div class="mb-3">
        <label for="content" class="form-label">Content</label>
        <textarea class="form-control" name="content" id="content" placeholder="Content" required></textarea>
    </div>

    <div class="mb-3">
        <label for="userId" class="form-label">Assign User</label>
        <select class="form-select" name="userId" id="userId" required>
            <option value="">Select a User</option>
            <% users.forEach(user => { %>
                <option value="<%= user.id %>"><%= user.name %></option>
            <% }) %>
        </select>
    </div>

    <button type="submit" class="btn btn-primary">Create Post</button>
</form>

<hr>

<h1>All posts</h1>

<hr>

<table class="table table-bordered">
  <thead>
      <tr>
          <th>Title</th>
          <th>Author</th>
          <th>Actions</th>
      </tr>
  </thead>
  <tbody>
      <% posts.forEach(post => { %>
          <tr>
              <td><%= post.title %></td>
              <td><%= post.user.name %></td>
              <td>
                  <!-- View Button -->
                  <a href="/posts/<%= post.id %>" class="btn btn-info btn-sm">View</a>
                  <!-- Modify Button -->
                  <a href="/posts/<%= post.id %>/edit" class="btn btn-warning btn-sm">Modify</a>
                  <!-- Delete Button -->
                  <form action="/posts/<%= post.id %>/delete" method="POST" class="d-inline" onsubmit="return confirm('Are you sure you want to delete this post?')">
                      <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                  </form>
              </td>
          </tr>
      <% }) %>
  </tbody>
</table>
