<h3>Create a New Post</h3>

<form class="form" action="/posts/create" method="POST">
    <div class="mb-3">
        <label for="title" class="form-label">Title</label>
        <input class="form-control" type="text" name="title" id="title" placeholder="Title" required>
    </div>

    <div class="mb-3">
        <label for="content" class="form-label">Content</label>
        <textarea class="form-control" name="content" id="content" placeholder="Content" required></textarea>
    </div>

    <div class="mb-3">
        <label for="userId" class="form-label">Assign User</label>
        <select class="form-select" name="userId" id="userId" required>
            <option value="">Select a User</option>
            <% users.forEach(user => { %>
                <option value="<%= user.id %>"><%= user.name %></option>
            <% }) %>
        </select>
    </div>

    <button type="submit" class="btn btn-primary">Create Post</button>
</form>

<hr>

<h4>Posts</h4>
<ul class="list-group">
  <% posts.forEach(post => { %>
    <li class="list-group-item">
      <h5><%= post.title %></h5>
      By: <strong><%= post.user.name %></strong>
      <p class="mt-2"><%= post.content %></p>

      <strong>Categories:</strong>
      <ul class="list-unstyled">
        <% post.categories.forEach(category => { %>
          <li><%= category.name %></li>
        <% }) %>
      </ul>

      <form class="mt-3" action="/posts/<%= post.id %>" method="GET">
        <button class="btn btn-secondary" type="submit">View Post</button>
      </form>
    </li>
    <hr>
  <% }) %>
</ul>
